# Changelog

All notable changes to this project will be documented in this file.

## [Unreleased]
### Added
- Added `TODO.md` implementation plan to make sessions from default tmux and Lisa project sockets visible in one view.
- Added multi-socket discovery and aggregation across default tmux plus Lisa socket glob targets.
- Added socket-aware CLI flags: `-include-default-socket`, `-include-lisa-sockets`, repeatable `-socket`, and `-socket-glob`.
- Added socket-focused unit tests for discovery, session keying collisions, routing, and UI hints.

### Changed
- Changed session identity to socket-qualified keys (`<socket>::<session>`) to avoid cross-socket name collisions.
- Changed refresh, capture, send, kill, and attach flows to always route actions to the correct tmux socket.
- Changed UI labels to show socket hints per session and socket/session totals in the status bar.

### Fixed
- Fixed explicit `-socket` targets being silently dropped when the socket file is missing; they are now preserved and surfaced in unavailable-socket errors.
- Fixed attach routing inside tmux to use `switch-client` only for the current socket and use interactive attach for cross-socket targets.
- Fixed interactive attach inheriting `TMUX`, which could block cross-socket attach flows.

## [1.1.0] - 2026-02-02
### Added
- Mode-specific focus colors for the focused pane to show active mode.

### Changed
- Multi-session layout favors horizontal splits.
- Compose mode sends keys to the focused pane in real time.
- Escape is forwarded to tmux; Ctrl+S exits modes.

## 260220-04:46:39 - Stabilize default socket routing and partial socket error visibility

### Summary
Default-socket commands now target tmux default explicitly; partial socket failures surface while healthy sessions still render.

### Changed
- Route empty-socket tmux calls with `-L default` for deterministic default-socket targeting.
- Keep rendering available sessions when some sockets fail, while preserving failure details in status errors.
- Tighten default `switch-client` eligibility to canonical tmux default socket paths.

### Fixed
- Prevented `TMUX` env inheritance from silently redirecting "default socket" actions to the current non-default socket.
- Prevented fatal per-socket errors from being hidden whenever any other socket succeeded.
- Prevented false-positive default-socket detection for arbitrary custom paths ending in `default`.

### Files
- `src/tmux.go`
- `src/state.go`
- `src/socket_test.go`
- `src/tmux_test.go`

### QA Notes
- Verify default socket sessions appear even when running inside a non-default tmux client.
- Verify one bad explicit socket still shows healthy sessions and status reports `partial socket failures`.
- Verify Enter attach from a non-default client to a default-socket target uses interactive attach (not `switch-client`).
